<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíñ Ultimate Luxury Love 2026 - ULTRA CINEMATIC</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  height: 100vh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(-45deg, #120018, #1a0033, #2d1b4e, #120018);
  background-size: 400% 400%;
  animation: gradientShift 8s ease infinite;
  position: relative;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Stars Galaxy Background */
#starfield {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

.star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  animation: twinkle 3s infinite;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

.shooting-star {
  position: fixed;
  width: 2px;
  height: 2px;
  background: white;
  box-shadow: 0 0 20px #ffb3d9;
  animation: shootingStar 2s linear forwards;
  z-index: 2;
}

@keyframes shootingStar {
  to {
    transform: translate(300px, 300px);
    opacity: 0;
  }
}

/* Intro Screen */
#intro {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(0,0,0,0.9), rgba(0,0,0,0.95));
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  animation: fadeOut 0.8s ease-in forwards 3s;
}

@keyframes fadeOut {
  to { opacity: 0; pointer-events: none; }
}

.countdown {
  font-size: 120px;
  font-weight: bold;
  background: linear-gradient(135deg, #ff2d75, #ff6fa5, #a855f7);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: pulse 1s infinite;
  margin-bottom: 30px;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

.intro-text {
  font-size: 32px;
  color: #ff9ecb;
  margin-top: 20px;
  text-shadow: 0 0 20px rgba(255, 158, 203, 0.8);
}

/* Main Container */
#main {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 10;
  opacity: 0;
  animation: fadeIn 0.8s ease-in 3s forwards;
}

@keyframes fadeIn {
  to { opacity: 1; }
}

/* ===== HEART CONTAINER - ULTRA ENHANCED ===== */
.heart-container {
  position: relative;
  width: 350px;
  height: 350px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 40px;
  animation: heartZoom 1.5s ease-out 3s forwards, heartRotate 20s linear infinite 4.5s;
}

@keyframes heartZoom {
  from {
    transform: scale(0.3);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes heartRotate {
  0% { transform: rotateZ(0deg); }
  100% { transform: rotateZ(360deg); }
}

/* Heart Glow Layers */
.heart-glow-1 {
  position: absolute;
  width: 350px;
  height: 350px;
  border-radius: 50%;
  filter: blur(30px);
  background: radial-gradient(circle, rgba(255, 45, 117, 0.8), transparent);
  animation: glowPulse1 3s ease-in-out infinite;
  z-index: -1;
}

.heart-glow-2 {
  position: absolute;
  width: 320px;
  height: 320px;
  border-radius: 50%;
  filter: blur(50px);
  background: radial-gradient(circle, rgba(168, 85, 247, 0.6), transparent);
  animation: glowPulse2 4s ease-in-out infinite 0.5s;
  z-index: -1;
}

.heart-glow-3 {
  position: absolute;
  width: 380px;
  height: 380px;
  border-radius: 50%;
  filter: blur(60px);
  background: radial-gradient(circle, rgba(255, 107, 165, 0.4), transparent);
  animation: glowPulse3 5s ease-in-out infinite 1s;
  z-index: -1;
}

@keyframes glowPulse1 {
  0%, 100% { transform: scale(0.8); opacity: 0.6; }
  50% { transform: scale(1.2); opacity: 1; }
}

@keyframes glowPulse2 {
  0%, 100% { transform: scale(1); opacity: 0.4; }
  50% { transform: scale(1.3); opacity: 0.8; }
}

@keyframes glowPulse3 {
  0%, 100% { transform: scale(0.9); opacity: 0.3; }
  50% { transform: scale(1.4); opacity: 0.6; }
}

/* Main Heart */
.heart {
  position: relative;
  width: 220px;
  height: 220px;
  transform: rotate(-45deg);
  animation: beat 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite, heartColorShift 8s ease-in-out infinite;
  background: linear-gradient(135deg, #ff2d75, #ff6fa5, #a855f7);
  border-radius: 20px;
  filter: drop-shadow(0 0 30px rgba(255, 45, 117, 0.8)) drop-shadow(0 0 60px rgba(168, 85, 247, 0.6)) drop-shadow(0 0 90px rgba(255, 107, 165, 0.4));
}

@keyframes beat {
  0%, 100% { transform: rotate(-45deg) scale(1); }
  50% { transform: rotate(-45deg) scale(1.15); }
}

@keyframes heartColorShift {
  0% { background: linear-gradient(135deg, #ff2d75, #ff6fa5, #a855f7); }
  25% { background: linear-gradient(135deg, #a855f7, #ff2d75, #ff6fa5); }
  50% { background: linear-gradient(135deg, #ff6fa5, #a855f7, #ff2d75); }
  75% { background: linear-gradient(135deg, #a855f7, #ff6fa5, #ff2d75); }
  100% { background: linear-gradient(135deg, #ff2d75, #ff6fa5, #a855f7); }
}

.heart:before, .heart:after {
  content: "";
  position: absolute;
  width: 220px;
  height: 220px;
  background: inherit;
  border-radius: 50%;
  animation: inherit;
}

.heart:before { top: -110px; }
.heart:after { left: 110px; }

/* Heart Eyes */
.heart-eye {
  position: absolute;
  width: 18px;
  height: 18px;
  background: white;
  border-radius: 50%;
  transform: rotate(45deg);
  z-index: 30;
  animation: eyeBlink 2s ease-in-out infinite;
}

.heart-eye.left {
  top: 70px;
  left: 50px;
}

.heart-eye.right {
  top: 70px;
  right: 50px;
}

.heart-pupil {
  position: absolute;
  width: 8px;
  height: 8px;
  background: #ff2d75;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: pupilMove 3s ease-in-out infinite;
}

@keyframes eyeBlink {
  0%, 100% { transform: rotate(45deg) scaleY(1); }
  45%, 55% { transform: rotate(45deg) scaleY(0.1); }
}

@keyframes pupilMove {
  0%, 100% { transform: translate(-50%, -50%); }
  25% { transform: translate(-30%, -40%); }
  50% { transform: translate(-60%, -50%); }
  75% { transform: translate(-40%, -60%); }
}

/* Lightning Effects */
.lightning {
  position: absolute;
  width: 2px;
  height: 80px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 1), transparent);
  transform-origin: top;
  animation: lightning 0.3s ease-out;
  z-index: 15;
}

@keyframes lightning {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

/* Wave Effect */
.wave {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  animation: waveMotion 2s ease-in-out infinite;
}

@keyframes waveMotion {
  0%, 100% { 
    filter: blur(0) drop-shadow(0 0 10px rgba(255, 45, 117, 0.3));
  }
  50% { 
    filter: blur(2px) drop-shadow(0 0 30px rgba(168, 85, 247, 0.6));
  }
}

/* Fire Effect */
.fire {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background: radial-gradient(ellipse at center, rgba(255, 107, 165, 0.3) 0%, transparent 70%);
  animation: fireFlicker 0.15s infinite;
}

@keyframes fireFlicker {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.05); }
}

/* Spark Particles on Heart */
.spark {
  position: absolute;
  width: 4px;
  height: 4px;
  background: radial-gradient(circle, #ffff00, #ff6fa5);
  border-radius: 50%;
  animation: sparkFloat 1s ease-out forwards;
}

@keyframes sparkFloat {
  0% { opacity: 1; transform: translate(0, 0) scale(1); }
  100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0); }
}

/* Name */
.name {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(45deg);
  font-size: 42px;
  font-weight: bold;
  text-shadow: 0 0 40px #fff, 0 0 80px #ff9ecb, 0 0 120px #a855f7;
  color: white;
  z-index: 20;
  animation: nameGlow 2s ease-in-out infinite;
}

@keyframes nameGlow {
  0%, 100% { text-shadow: 0 0 40px #fff, 0 0 80px #ff9ecb; }
  50% { text-shadow: 0 0 60px #fff, 0 0 100px #a855f7, 0 0 150px #ff2d75; }
}

.sghira {
  font-size: 20px;
  display: block;
  margin-top: -5px;
}

/* Typing Message */
#typing {
  margin-top: 40px;
  font-size: 28px;
  color: #ff9ecb;
  min-height: 35px;
  text-shadow: 0 0 20px rgba(255, 158, 203, 0.6);
  font-weight: 500;
  letter-spacing: 1px;
}

/* Buttons */
.buttons {
  margin-top: 50px;
  display: flex;
  gap: 25px;
  justify-content: center;
  flex-wrap: wrap;
}

.btn {
  padding: 16px 40px;
  border: 2px solid transparent;
  border-radius: 50px;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 600;
  letter-spacing: 1px;
}

.yes {
  background: linear-gradient(135deg, #ff2d75, #ff6fa5);
  color: white;
  box-shadow: 0 0 40px rgba(255, 45, 117, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.1);
}

.yes:hover {
  transform: scale(1.1);
  box-shadow: 0 0 60px rgba(255, 45, 117, 0.8), inset 0 0 30px rgba(255, 255, 255, 0.2);
}

.yes:active {
  transform: scale(0.95);
}

.no {
  background: rgba(255, 255, 255, 0.1);
  color: white;
  border: 2px solid rgba(255, 158, 203, 0.5);
  position: relative;
  transition: all 0.1s ease;
}

.no:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 158, 203, 0.8);
}

/* Gift */
#gift {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 100px;
  opacity: 0;
  pointer-events: none;
  animation: giftAppear 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes giftAppear {
  0% {
    transform: translate(-50%, -50%) scale(0) rotate(-180deg);
    opacity: 0;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.2) rotate(10deg);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(1) rotate(0);
    opacity: 1;
  }
}

/* Particles */
.particle {
  position: fixed;
  pointer-events: none;
  font-weight: bold;
}

.heart-particle {
  animation: particleFloat 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.sparkle-particle {
  animation: sparkleFloat 2.5s ease-out forwards;
  font-size: 24px;
}

.rose-particle {
  animation: roseFloat 3s ease-out forwards;
  font-size: 28px;
}

.confetti-particle {
  animation: confettiFloat 4s ease-out forwards;
}

@keyframes particleFloat {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
}

@keyframes sparkleFloat {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
}

@keyframes roseFloat {
  0% { transform: translate(0, 0) rotateZ(0deg) scale(1); opacity: 1; }
  100% { transform: translate(var(--tx), var(--ty)) rotateZ(360deg) scale(0); opacity: 0; }
}

@keyframes confettiFloat {
  0% { transform: translate(0, 0) rotateZ(0deg) scale(1); opacity: 1; }
  100% { transform: translate(var(--tx), var(--ty)) rotateZ(720deg) scale(0); opacity: 0; }
}

/* Rain of Roses */
.rose-rain {
  position: fixed;
  top: -50px;
  font-size: 32px;
  animation: roseRain 4s linear forwards;
  opacity: 0.8;
  z-index: 5;
}

@keyframes roseRain {
  to {
    transform: translateY(110vh) rotateZ(360deg);
    opacity: 0;
  }
}

/* Floating Hearts Trail */
.heart-trail {
  position: fixed;
  pointer-events: none;
  font-size: 20px;
  animation: trailFloat 1.5s ease-out forwards;
}

@keyframes trailFloat {
  0% { opacity: 1; transform: translate(0, 0) scale(1); }
  100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0.3); }
}

/* Floating Elements */
.float-element {
  position: fixed;
  pointer-events: none;
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0) translateX(0); }
  50% { transform: translateY(-50px) translateX(20px); }
}

/* Responsive */
@media (max-width: 768px) {
  .heart { width: 160px; height: 160px; }
  .heart:before, .heart:after { width: 160px; height: 160px; }
  .heart:before { top: -80px; }
  .heart:after { left: 80px; }
  .heart-eye.left { left: 35px; }
  .heart-eye.right { right: 35px; }
  .name { font-size: 32px; }
  .sghira { font-size: 16px; }
  #typing { font-size: 22px; }
  .btn { padding: 12px 30px; font-size: 16px; }
  .buttons { gap: 15px; }
  .heart-container { width: 220px; height: 220px; }
  .heart-glow-1 { width: 220px; height: 220px; }
  .heart-glow-2 { width: 200px; height: 200px; }
  .heart-glow-3 { width: 240px; height: 240px; }
}

@media (max-width: 480px) {
  .heart { width: 140px; height: 140px; }
  .heart:before, .heart:after { width: 140px; height: 140px; }
  .heart:before { top: -70px; }
  .heart:after { left: 70px; }
  .heart-eye.left { top: 55px; left: 28px; }
  .heart-eye.right { top: 55px; right: 28px; }
  .name { font-size: 26px; }
  .sghira { font-size: 14px; }
  #typing { font-size: 18px; }
  .btn { padding: 10px 25px; font-size: 14px; }
  .heart-container { width: 180px; height: 180px; }
  .heart-glow-1 { width: 180px; height: 180px; }
  .heart-glow-2 { width: 160px; height: 160px; }
  .heart-glow-3 { width: 200px; height: 200px; }
  .countdown { font-size: 80px; }
  .intro-text { font-size: 24px; }
}
</style>
</head>
<body>

<!-- Starfield Background -->
<div id="starfield"></div>

<!-- Intro Screen -->
<div id="intro">
  <div class="countdown" id="countdown">3</div>
  <div class="intro-text">ÿ≠ÿ® ÿ®ŸÑÿß ÿ≠ÿØŸàÿØ...</div>
</div>

<!-- Main Content -->
<div id="main">
  <div class="heart-container">
    <div class="heart-glow-1"></div>
    <div class="heart-glow-2"></div>
    <div class="heart-glow-3"></div>
    <div class="heart">
      <div class="wave"></div>
      <div class="fire"></div>
      <div class="heart-eye left">
        <div class="heart-pupil"></div>
      </div>
      <div class="heart-eye right">
        <div class="heart-pupil"></div>
      </div>
      <div class="name">salma <span class="sghira">(sghira)</span></div>
    </div>
  </div>
  <div id="typing"></div>
  <div class="buttons">
    <button class="btn yes" id="yesBtn">YES üíò</button>
    <button class="btn no" id="noBtn">NO üòè</button>
  </div>
  <div id="gift">üíç‚ú®</div>
</div>

<!-- Audio Elements -->
<audio id="music" loop preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a73467.mp3" type="audio/mpeg">
</audio>
<audio id="pop" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_270f49b4c7.mp3" type="audio/mpeg">
</audio>

<script>
// ===== ELEMENTS =====
const intro = document.getElementById('intro');
const main = document.getElementById('main');
const countdown = document.getElementById('countdown');
const typingEl = document.getElementById('typing');
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const gift = document.getElementById('gift');
const music = document.getElementById('music');
const pop = document.getElementById('pop');
const starfield = document.getElementById('starfield');
const heart = document.querySelector('.heart');

let hasClicked = false;
let clickAllowed = true;

// ===== STARFIELD GENERATION =====
function generateStars() {
  for (let i = 0; i < 100; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.animationDelay = Math.random() * 3 + 's';
    starfield.appendChild(star);
  }
}

// ===== SHOOTING STARS =====
function createShootingStar() {
  const star = document.createElement('div');
  star.className = 'shooting-star';
  star.style.left = Math.random() * 100 + 'vw';
  star.style.top = Math.random() * 50 + 'vh';
  star.style.animationDuration = (1 + Math.random() * 1.5) + 's';
  starfield.appendChild(star);
  
  setTimeout(() => star.remove(), 2500);
}

setInterval(createShootingStar, 1500);

// ===== LIGHTNING EFFECTS =====
function createLightning() {
  if (Math.random() > 0.7) {
    const lightning = document.createElement('div');
    lightning.className = 'lightning';
    lightning.style.left = (Math.random() * 100 - 50) + 'px';
    lightning.style.top = (Math.random() * 100 - 50) + 'px';
    lightning.style.transform = `rotate(${Math.random() * 360}deg)`;
    heart.appendChild(lightning);
    
    setTimeout(() => lightning.remove(), 300);
  }
}

setInterval(createLightning, 800);

// ===== SPARK PARTICLES ON HEART =====
function createHeartSparks() {
  for (let i = 0; i < 3; i++) {
    setTimeout(() => {
      const spark = document.createElement('div');
      spark.className = 'spark';
      const angle = Math.random() * Math.PI * 2;
      const velocity = 60 + Math.random() * 100;
      spark.style.left = '110px';
      spark.style.top = '110px';
      spark.style.setProperty('--tx', Math.cos(angle) * velocity + 'px');
      spark.style.setProperty('--ty', Math.sin(angle) * velocity + 'px');
      heart.appendChild(spark);
      
      setTimeout(() => spark.remove(), 1000);
    }, i * 200);
  }
}

setInterval(createHeartSparks, 1200);

// ===== INTRO COUNTDOWN =====
function startCountdown() {
  let count = 3;
  const interval = setInterval(() => {
    countdown.textContent = count;
    countdown.style.animation = 'none';
    setTimeout(() => {
      countdown.style.animation = 'pulse 1s infinite';
    }, 10);
    count--;
    
    if (count < 0) {
      clearInterval(interval);
      intro.style.animation = 'fadeOut 0.8s ease-in forwards';
      main.style.animation = 'fadeIn 0.8s ease-in forwards';
      startRomance();
    }
  }, 1000);
}

// ===== ROMANCE START =====
function startRomance() {
  setTimeout(() => {
    try { music.play().catch(() => {}); } catch(e) {}
    typeMessage();
    startRoseRain();
    startFloatingElements();
  }, 500);
}

// ===== TYPING MESSAGE =====
function typeMessage() {
  const text = " NIGHT CANNOT EXIST WITHOUT THE MOON ‚ù§Ô∏è";
  let i = 0;
  
  const typeInterval = setInterval(() => {
    typingEl.textContent += text[i];
    i++;
    if (i >= text.length) {
      clearInterval(typeInterval);
    }
  }, 70);
}

// ===== ROSE RAIN =====
function startRoseRain() {
  setInterval(() => {
    const rose = document.createElement('div');
    rose.className = 'rose-rain';
    rose.innerHTML = 'üåπ';
    rose.style.left = Math.random() * 100 + 'vw';
    rose.style.animationDuration = (3 + Math.random() * 2) + 's';
    document.body.appendChild(rose);
    
    setTimeout(() => rose.remove(), 5000);
  }, 300);
}

// ===== FLOATING ELEMENTS =====
function startFloatingElements() {
  // Floating Hearts
  setInterval(() => {
    const heart = document.createElement('div');
    heart.className = 'float-element';
    heart.innerHTML = 'üíñ';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.top = Math.random() * 100 + 'vh';
    heart.style.animationDuration = (8 + Math.random() * 4) + 's';
    heart.style.animationDelay = Math.random() * 2 + 's';
    heart.style.opacity = 0.6;
    document.body.appendChild(heart);
    
    setTimeout(() => heart.remove(), 12000);
  }, 1000);

  // Floating Sparkles
  setInterval(() => {
    const sparkle = document.createElement('div');
    sparkle.className = 'float-element';
    sparkle.innerHTML = '‚ú®';
    sparkle.style.left = Math.random() * 100 + 'vw';
    sparkle.style.top = Math.random() * 100 + 'vh';
    sparkle.style.animationDuration = (10 + Math.random() * 5) + 's';
    sparkle.style.animationDelay = Math.random() * 3 + 's';
    sparkle.style.fontSize = '20px';
    sparkle.style.opacity = 0.5;
    document.body.appendChild(sparkle);
    
    setTimeout(() => sparkle.remove(), 15000);
  }, 800);
}

// ===== CURSOR TRAIL =====
document.addEventListener('mousemove', (e) => {
  if (Math.random() > 0.7) {
    const trail = document.createElement('div');
    trail.className = 'heart-trail';
    trail.innerHTML = ['üíñ', '‚ú®', 'üíï'][Math.floor(Math.random() * 3)];
    trail.style.left = e.clientX + 'px';
    trail.style.top = e.clientY + 'px';
    trail.style.setProperty('--tx', (Math.random() - 0.5) * 100 + 'px');
    trail.style.setProperty('--ty', (Math.random() - 0.5) * 100 + 'px');
    document.body.appendChild(trail);
    
    setTimeout(() => trail.remove(), 1500);
  }
});

// Touch trail for mobile
document.addEventListener('touchmove', (e) => {
  if (Math.random() > 0.7) {
    const trail = document.createElement('div');
    trail.className = 'heart-trail';
    trail.innerHTML = 'üíñ';
    trail.style.left = e.touches[0].clientX + 'px';
    trail.style.top = e.touches[0].clientY + 'px';
    trail.style.setProperty('--tx', (Math.random() - 0.5) * 100 + 'px');
    trail.style.setProperty('--ty', (Math.random() - 0.5) * 100 + 'px');
    document.body.appendChild(trail);
    
    setTimeout(() => trail.remove(), 1500);
  }
});

// ===== PARTICLE EXPLOSIONS =====
function createParticleExplosion(x, y, count = 50, particleType = 'heart') {
  for (let i = 0; i < count; i++) {
    setTimeout(() => {
      const particle = document.createElement('div');
      particle.className = 'particle heart-particle';
      
      let emoji = 'üíñ';
      if (particleType === 'mixed') {
        emoji = ['üíñ', 'üåπ', '‚ú®', 'üíï', 'üíç'][Math.floor(Math.random() * 5)];
        particle.className = 'particle sparkle-particle';
      } else if (particleType === 'rose') {
        emoji = 'üåπ';
        particle.className = 'particle rose-particle';
      } else if (particleType === 'confetti') {
        emoji = ['üéÜ', '‚ú®', 'üí´', '‚≠ê'][Math.floor(Math.random() * 4)];
        particle.className = 'particle confetti-particle';
      }
      
      particle.innerHTML = emoji;
      particle.style.left = x + 'px';
      particle.style.top = y + 'px';
      
      const angle = (Math.PI * 2 * i) / count;
      const velocity = 100 + Math.random() * 200;
      const tx = Math.cos(angle) * velocity;
      const ty = Math.sin(angle) * velocity;
      
      particle.style.setProperty('--tx', tx + 'px');
      particle.style.setProperty('--ty', ty + 'px');
      
      document.body.appendChild(particle);
      setTimeout(() => particle.remove(), 4000);
    }, i * 20);
  }
}

// ===== YES BUTTON =====
yesBtn.onclick = () => {
  if (!clickAllowed) return;
  clickAllowed = false;
  
  try { pop.play().catch(() => {}); } catch(e) {}
  
  const rect = yesBtn.getBoundingClientRect();
  const x = rect.left + rect.width / 2;
  const y = rect.top + rect.height / 2;
  
  gift.style.opacity = 1;
  
  createParticleExplosion(window.innerWidth / 2, window.innerHeight / 2, 80, 'mixed');
  createParticleExplosion(x, y, 60, 'rose');
  createParticleExplosion(window.innerWidth / 2, window.innerHeight / 2, 100, 'confetti');
  
  // Celebrate text
  setTimeout(() => {
    typingEl.innerHTML = 'SGHIRA DYALI  üéâ<br> Happy Valentine's Day, my love and wife, every hour, second, minute, day, and year without end. üíï';
    typingEl.style.fontSize = '32px';
  }, 800);
  
  // Confetti shower
  for (let i = 0; i < 15; i++) {
    setTimeout(() => {
      createParticleExplosion(
        Math.random() * window.innerWidth,
        -50,
        30,
        'confetti'
      );
    }, i * 200);
  }
  
  // Disable buttons
  yesBtn.disabled = true;
  noBtn.disabled = true;
};

// ===== NO BUTTON (RUNAWAY) =====
noBtn.onmouseover = () => {
  if (!clickAllowed) return;
  
  noBtn.style.position = 'fixed';
  noBtn.style.left = Math.random() * (window.innerWidth - 100) + 'px';
  noBtn.style.top = Math.random() * (window.innerHeight - 50) + 'px';
};

noBtn.ontouchstart = (e) => {
  if (!clickAllowed) return;
  
  noBtn.style.position = 'fixed';
  noBtn.style.left = Math.random() * (window.innerWidth - 100) + 'px';
  noBtn.style.top = Math.random() * (window.innerHeight - 50) + 'px';
  e.preventDefault();
};

// ===== FIRST CLICK TO START MUSIC =====
document.addEventListener('click', () => {
  if (!hasClicked) {
    hasClicked = true;
    try { music.play().catch(() => {}); } catch(e) {}
  }
});

// ===== INITIALIZE =====
generateStars();
startCountdown();
</script>

</body>
</html>
